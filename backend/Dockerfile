FROM python:3.11-slim\nWORKDIR /app\nCOPY pyproject.toml /app/\nRUN pip install --no-cache-dir uv pipx && pipx install poetry && pipx ensurepath || true\nRUN pip install --no-cache-dir -r <(python - <<'PY'\nimport tomllib, sys\nprint('\n'.join(tomllib.load(open('pyproject.toml','rb'))['project']['dependencies']))\nPY\n) || true\nCOPY app /app/app\nEXPOSE 8080\nCMD [\"uvicorn\",\"app.main:app\",\"--host\",\"0.0.0.0\",\"--port\",\"8080\"]